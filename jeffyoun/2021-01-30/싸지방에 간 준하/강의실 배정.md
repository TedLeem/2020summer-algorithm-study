# 싸지방에 간 준하

## 문제

https://www.acmicpc.net/problem/12764

## 문제 본문

현재 대한민국 해군에 소속되어있는 준하는 문제를 풀기 위해 매일같이 사이버 지식 정보방 통칭 싸지방에 다닌다. 그러나 최근 문제가 생겼다. 싸지방에 사람이 몰려 컴퓨터 수가 모자라게 된 것이다. 이런 사태를 도저히 용납할 수 없었던 준하는 곧 전역하는 선임을 설득해 민원을 넣도록 하는 데 성공했다.

마침내 부대에서는 민원을 받아들이기로 하였고, 컴퓨터를 증설하기로 했다. 또한, 컴퓨터 간의 사용률에 따라 다른 성능의 컴퓨터를 설치하고자 한다.

하지만 예산이 부족해 사람 수 만큼 컴퓨터를 살 수가 없었다. 고심에 고심을 거듭한 준하는 모든 사람이 항상 정해진 시간에 싸지방을 이용한다는 사실을 발견했다.

컴퓨터가 있는 자리에는 1번부터 순서대로 번호가 매겨져 있다. 모든 사람은 싸지방에 들어왔을 때 비어있는 자리 중에서 번호가 가장 작은 자리에 앉는 것이 규칙이다.

준하가 발견한 사실과 이용 규칙을 가지고, 모든 사람이 기다리지 않고 싸지방을 이용할 수 있는 컴퓨터의 최소 개수와 자리별로 몇 명의 사람이 사용했는가를 구하시오.

## 입출력

첫째 줄에 사람의 수를 나타내는 N이 주어진다.  둘째 줄부터 개의 줄에 걸쳐서 각 사람의 컴퓨터 이용 시작 시각 P와 종료 시각 Q가 주어진다. 

시작 시각이나 종료 시각이 다른 사람과 겹치는 경우는 없다.

첫째 줄에 사람이 모든 사람이 기다리지 않아도 되는 컴퓨터의 최소 개수 X를 출력한다.

둘째 줄에는 1번 자리부터 X번 자리까지 순서대로 각 자리를 사용한 사람의 수를 띄어쓰기 간격으로 출력한다.

5

20 50

10 100

30 120

60 110

80 90

->

4

1 2 1 1

## 접근방법:

2개의 우선순위 큐 사용

1번 -> 현재 이용하고 있는 사람들에 대한 큐

* 이용 종료 시간을 담고 있다
* 이를 통해 사람이 들어올 때 이전에 나갔어야 하는 사람들을 손쉽게 조회 가능
* 스택으로도 쉽게 가능할 듯

2번 -> 비어있는 자리를 관리하는 큐

* 빈 자리 중 번호가 작은 좌석에 먼저 앉는다
* 따라서 이 우선순위를 사용해서 우선순위로 큐를 관리해주면 빈 자리 중 번호가 가장 작은 자리를 알 수 있다

###  첫 번째

```python
from queue import PriorityQueue
from operator import itemgetter
from sys import stdin

사람_수 = int(stdin.readline())

사람들의_이용시간 = [[]] * 사람_수

for i in range(사람_수):
    사람들의_이용시간[i] = list(map(int, stdin.readline().split()))

사람들의_이용시간.sort(key=itemgetter(0))

좌석별_이용_횟수 = [0] * (사람_수 + 1)

사용중 = PriorityQueue()
자리_관리_큐 = PriorityQueue()

사람_카운트 = 0
max_사람_카운트 = 0

# 싸지방 갈 사람 남음
for user in 사람들의_이용시간:
    # 이용하고 있는 사람이 있다면
    while not 사용중.empty():
        # 지금 이용하려는 사람 시간보다 종료 시간 일찍인 사람 가랑
        if 사용중.queue[0][0] < user[0]:
            자리_관리_큐.put(사용중.queue[0][1])
            사용중.get()
            사람_카운트 -= 1
        else:
            break
    # 남은 자리가 없는 경우
    if 자리_관리_큐.empty():
        사용중.put([user[1], 사람_카운트])
        좌석별_이용_횟수[사람_카운트] += 1
    else:
        tempSeat = 자리_관리_큐.get()
        사용중.put([user[1], tempSeat])
        좌석별_이용_횟수[tempSeat] += 1
    사람_카운트 += 1
    max_사람_카운트 = max(max_사람_카운트, 사람_카운트)

print(max_사람_카운트)
print(*좌석별_이용_횟수[:max_사람_카운트])
```